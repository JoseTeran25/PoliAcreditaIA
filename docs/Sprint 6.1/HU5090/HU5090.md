# HU5090 - Listar Usuarios Registrados

[â† Volver al Sprint 6.1](../) | [â† Volver al inicio](../../)

## ğŸ“‹ DescripciÃ³n de la Historia de Usuario

**Como** administrador de Poliacredita, **quiero** listar los usuarios registrados en el sistema **para** poder gestionar sus cuentas y roles de manera efectiva.

## âœ… Estado: **Completado**

---

## ğŸ¯ Criterios de AceptaciÃ³n

- âœ… El sistema debe permitir al administrador acceder a una lista de todos los usuarios registrados, mostrando informaciÃ³n relevante como correo electrÃ³nico, nombre, rol y estado
- âœ… La informaciÃ³n debe ser accesible a travÃ©s de un endpoint especÃ­fico que devuelva los datos en un formato estructurado
- âœ… El acceso a este endpoint debe estar restringido solo a usuarios con rol de Administrador, asegurando que solo personal autorizado pueda ver la lista de usuarios

---

## ğŸ”§ Tareas TÃ©cnicas Implementadas

| ID | DescripciÃ³n | Estado |
|---|---|---|
| **5146** | Crear el endpoint `GET /usuarios` para permitir a los administradores listar los usuarios registrados en el sistema | âœ… |
| **5151** | Implementar la lÃ³gica para obtener datos de usuario, incluyendo email, nombre, rol y estado, asegurando que se consulten correctamente en la base de datos | âœ… |
| **5157** | Asegurar la protecciÃ³n del endpoint por rol de Administrador, implementando las validaciones necesarias para restringir el acceso a este recurso | âœ… |

---

## ğŸ—ï¸ Diagrama de Secuencia

![Diagrama de Secuencia - Listar Usuarios](Diagrama%20.png)

*Diagrama que muestra el flujo del proceso para listar usuarios, incluyendo la validaciÃ³n de permisos administrativos y la consulta a la base de datos.*

---

## ğŸ“Š InformaciÃ³n Mostrada

### Datos de Usuario
- **Email**: DirecciÃ³n de correo electrÃ³nico del usuario
- **Nombre**: Nombre completo del usuario
- **Rol**: Rol asignado en el sistema (Administrador, Usuario, etc.)
- **Estado**: Estado actual del usuario (Activo, Inactivo, Suspendido)

### Formato de Respuesta
```json
{
  "usuarios": [
    {
      "id": "user_id",
      "email": "usuario@ejemplo.com",
      "nombre": "Nombre Usuario",
      "rol": "Administrador",
      "estado": "Activo"
    }
  ]
}
```

---

## ğŸ” Seguridad y Permisos

### Control de Acceso
- **RestricciÃ³n**: Solo usuarios con rol de **Administrador**
- **ValidaciÃ³n**: VerificaciÃ³n de token JWT y permisos
- **ProtecciÃ³n**: Endpoint protegido contra acceso no autorizado

### Validaciones Implementadas
- âœ… AutenticaciÃ³n de usuario vÃ¡lida
- âœ… VerificaciÃ³n de rol administrativo
- âœ… Token JWT vÃ¡lido y no expirado

---

## ğŸ“š Recursos Relacionados

- **Endpoint**: `GET /usuarios`
- **MÃ©todo HTTP**: GET
- **AutenticaciÃ³n**: Requerida (JWT)
- **Roles**: Solo Administrador
- **Respuesta**: Lista completa de usuarios del sistema

---

**Fecha de implementaciÃ³n**: Sprint 6.1  
**Ãšltima actualizaciÃ³n**: Octubre 2025
